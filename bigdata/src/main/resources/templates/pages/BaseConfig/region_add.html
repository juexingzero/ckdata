<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8"/>
    	<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>新增行政区划</title>
		<link rel="stylesheet" href="../css/bootstrap.min14ed.css?v=3.3.6"/>
		<link rel="stylesheet" href="../css/font-awesome.min93e3.css?v=4.4.0"/>
		<link rel="stylesheet" href="../css/animate.min.css" />
		<link rel="stylesheet" href="../css/layui/css/layui.css"/>
		<link rel="stylesheet" href="../css/layui/css/modules/laydate/default/laydate.css"/>
		<link rel="stylesheet" href="../css/style.min862f.css?v=4.1.0" />
		<link rel="stylesheet" href="../css/plugins/sweetalert/sweetalert.css" />
		<link rel="stylesheet" href="../css/base.css"/>
		<link rel="stylesheet" href="../css/plan_style.css"/>
	</head>
	<body>
		<div class="plan_layout">
			<form action="add_region.action" method="post" class="layui-form" id="formTag">
				<div class="plan_form_box1">
					<div class="form_box_title">新增行政区划</div>
					<table style="margin-top: 20px;">
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;"><span class="star">*</span>
										行政区划代码：
									</label>
									<div class="input_wrap" style="margin-top: 10px;">
										<input type="text" id="code" name="code" placeholder="请输入行政区划代码" class="layui-input nav_input" value="" style="width: 200px;"/>
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;"><span class="star">*</span>
										行政区划名称：
									</label>
									<div class="input_wrap">
										<input type="text" id="regionName" name="name" placeholder="请输入行政区划名称" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 160px;"><span class="star">*</span>
										上级行政区划代码：
									</label>
									<div class="input_wrap">
										<input type="text" id="parentCode" name="parentCode" placeholder="请输入上级行政区划代码" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;"><span class="star">*</span>
										简拼首字母：
									</label>
									<div class="input_wrap">
										<input type="text" id="firstjianpin" name="firstjianpin" placeholder="请输入简拼首字母" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										简拼：
									</label>
									<div class="input_wrap">
										<input type="text" id="jianpin" name="jianpin" placeholder="请输入简拼" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										拼音：
									</label>
									<div class="input_wrap">
										<input type="text" id="pinyin" name="pinyin" placeholder="请输入拼音" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										英文名：
									</label>
									<div class="input_wrap">
										<input type="text" id="engname" name="engname" placeholder="请输入英文名" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										简称：
									</label>
									<div class="input_wrap">
										<input type="text" id="shortname" name="shortname" placeholder="请输入简称" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										全称：
									</label>
									<div class="input_wrap">
										<input type="text" id="fullname" name="fullname" placeholder="请输入全称" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										合称：
									</label>
									<div class="input_wrap">
										<input type="text" id="mergername" name="mergername" placeholder="请输入合称" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										合称（简）：
									</label>
									<div class="input_wrap">
										<input type="text" id="mergershortname" name="mergershortname" placeholder="请输入合称（简体）" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<div class="form_item">
									<label style="width: 140px;">行政区划级别：</label>
									<div class="input_wrap input_size_275">
										<select name="level" lay-verify="">
											<option value="0">国家</option>
											<option value="1">省级</option>
											<option value="2">市级</option>
											<option value="3">区县</option>
										</select>
										<div class="layui-unselect layui-form-select">
											<div class="layui-select-title">
												<input type="text" placeholder="请选择" value="不限" readonly="" class="layui-input layui-unselect"/> 
												<i class="layui-edge"></i>
											</div>
											<dl class="layui-anim layui-anim-upbit" style="">
												<dd lay-value="0" class="">国家</dd>
												<dd lay-value="1" class="">省级</dd>
												<dd lay-value="2" class="">市级</dd>
												<dd lay-value="3" class="">区县</dd>
											</dl>
										</div>
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										区号：
									</label>
									<div class="input_wrap">
										<input type="text" id="areacode" name="areacode" placeholder="请输入区号" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										邮编：
									</label>
									<div class="input_wrap">
										<input type="text" id="zipcode" name="zipcode" placeholder="请输入邮编" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										经度：
									</label>
									<div class="input_wrap">
										<input type="text" id="lng" name="lng" placeholder="请输入经度" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										纬度：
									</label>
									<div class="input_wrap">
										<input type="text" id="lat" name="lat" placeholder="请输入纬度" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 140px;">
										经纬度空间索引编码：
									</label>
									<div class="input_wrap">
										<input type="text" id="geohash" name="geohash" placeholder="请输入经纬度空间索引编码" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
						<tr>
							<td class="pt_20" colspan="2" style="padding-bottom: 20px;">
								<div class="form_item">
									<label style="width: 120px;">
										备注：
									</label>
									<div class="input_wrap">
										<input type="text" id="remark" name="remark" placeholder="请输入备注" class="layui-input nav_input" style="width: 200px;" />
									</div>
								</div>
							</td>
						</tr>
					</table>
		
					<div class="foot_btn_box" style="margin-top: 100px;">
						<span class="btn_sm_blue1" onclick="save()">提交</span>
						<span class="btn_sm_white3" style="margin-left: 60px;" onclick="cancel()">取消</span>
					</div>
				</div>
			</form>
		</div>
		<script src="../js/jquery.min.js?v=2.1.4"></script>
   		<script src="../js/layui/layui.js"></script>
    	<script src="../js/plugins/sweetalert/sweetalert.min.js"></script>
    	<script src="../js/plugins/datapicker/bootstrap-datepicker.js"></script>
		<script type="text/javascript">
			layui.use(["form", "laydate", "layer", "laypage"], function () {
				var form = layui.form;
				var laydate = layui.laydate;
				var layer = layui.layer;
				var laypage = layui.laypage;
	
				$(".laydate_time").each(function () {
					laydate.render({
						elem: this
					});
				});
			})
			
			function save(){
				var code = $("#code").val();
				if(code == null || code == ''){
					layer.alert('行政区划代码未填写', {
						  icon: 2,
						  skin: 'layer-ext-moon' 
					});
					return false;
				}
				if(code.length > 9){
					layer.alert('上级行政区划代码长度太长', {
						  icon: 2,
						  skin: 'layer-ext-moon' 
					});
					return false;
				}
				var regionName = $("#regionName").val();
				if(regionName == null || regionName == ''){
					layer.alert('行政区划名称未填写', {
						  icon: 2,
						  skin: 'layer-ext-moon' 
					});
					return false;
				}
				var parentCode = $("#parentCode").val();
				if(parentCode == null || parentCode == ''){
					layer.alert('上级行政区划代码未填写', {
						  icon: 2,
						  skin: 'layer-ext-moon' 
					});
					return false;
				}
				if(parentCode.length > 9){
					layer.alert('上级行政区划代码长度太长', {
						  icon: 2,
						  skin: 'layer-ext-moon' 
					});
					return false;
				}
				var firstjianpin = $("#firstjianpin").val();
				if(firstjianpin.length > 1){
					layer.alert('简拼首字母长度太长', {
						  icon: 2,
						  skin: 'layer-ext-moon' 
					});
					return false;
				}
				var areacode = $("#areacode").val();
				if(firstjianpin.length > 5){
					layer.alert('区号长度太长', {
						  icon: 2,
						  skin: 'layer-ext-moon' 
					});
					return false;
				}
				
				$("#formTag").submit();
				// 将表单复制到父画面，在父页面的回调函数里提交表单
				var popupFormDiv = $(parent.document.body).children("div[id='popupFormDiv']").append($("#formTag"));
    			var index = parent.layer.getFrameIndex(window.name); 
	            parent.layer.close(index);
    		}
		
			function cancel(){
				var index = parent.layer.getFrameIndex(window.name);
			    parent.layer.close(index);
			}
		</script>
	</body>
</html>
